#include <ESP8266WiFi.h>
#include <ESP8266HTTPClient.h>

const char* ssid = "********";
const char* password = "********";

const char* node_ip = "xxx.xxx.xxx.xxx";
const char* state =  strcat(node_ip, ":5005/state");
const char* pause = strcat(node_ip, ":5005/pauseall");
const char* play = strcat(node_ip, ":5005/resumeall")

const char* pauseButton = "D0";
boolean isPausePressed = false;
const char* playButton = "D1";
boolean isPlayPressed = false; 

void setup () {

	pinMode(buttonInput, INPUT); // set the button to function as input
	digitalWrite(buttonInput, HIGH);
	
	Serial.begin(115200);
	WiFi.begin(ssid, password);
	
	Serial.print("Connecting...");
	while (WiFi.status() != WL_CONNECTED) {
		delay(3000);
		Serial.print(".");
	}
}

void loop() {
	
	isPausePressed = digitalRead(pauseButton);
	
	if (isPausedPressed) {
		if (WiFi.status() == WL_CONNECTED) {
			HTTPClient http;
						
			http.begin(state);
			int httpCode = http.GET();
			if (httpCode == 200) {
				Serial.println("Success");
			}
			http.end();
		}
	}
	
    if (buttonState == HIGH) {
        digitalWrite(lightOutput, LOW);
    } else {
        digitalWrite(lightOutput, HIGH);
    }
	
	
	
		if (WiFi.status() == WL_CONNECTED) {
			HTTPClient http;
						
			http.begin(state);
			int httpCode = http.GET();
			if (httpCode == 200) {
				Serial.println("Success.");
			}
			http.end();
		}
	}
}